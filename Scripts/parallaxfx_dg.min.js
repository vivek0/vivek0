function addListener(e,t,n){if(e.addEventListener){e.addEventListener(t,n,false);return true}else if(e.attachEvent){e.attachEvent("on"+t,n);return true}return false}var wf_pbb_images=[];var wf_pbb_img_loaded=0;addListener(window,"load",function(){wf_pbb_controller.appendPreloader();for(var e=1;e<wf_pbb_object.length;e++){wf_pbb_images[e]=new Image;wf_pbb_images[e].src=wf_pbb_object[e].img;wf_pbb_images[e].onload=function(){wf_pbb_img_loaded++;if(wf_pbb_img_loaded>=wf_pbb_object.length-1){wf_pbb_controller.init();wf_pbb_controller.removePreloaders()}}}});var wf_pbb_controller={mBuffer:{x:0,y:0},dir:{x:0,y:0},me:[],win:{height:0,width:0},appendPreloader:function(){var e=document.createElement("div");e.id="wf_pbb_preloader";e.style.width=222+"px";e.style.height=24+"px";e.style.position="fixed";e.style.bottom="36px";e.style.right="50px";e.style.zIndex=9999;e.style.border="3px solid #2bc2db";e.style.font="20px 'trebuchet MS','arial'";e.style.color="#222222";e.style.margin="10px auto 0 auto";e.style.padding="8px 0";e.style.textAlign="center";e.style.borderRadius="8px";e.style.backgroundColor="white";e.innerHTML="Loading Parallax...";document.body.appendChild(e)},removePreloaders:function(){document.getElementById("wf_pbb_preloader").style.display="none"},init:function(){wf_pbb_controller.initWindowSize();if(wf_pbb_object[0].bc!="transparent"){document.body.style.backgroundColor=wf_pbb_object[0].bc}this.browserDetect.init();wf_pbb_controller.canvas=document.createElement("span");wf_pbb_controller.canvas.id="wf_pbb_canvas";wf_pbb_controller.canvas.style.width=100+"%";wf_pbb_controller.canvas.style.height=100+"%";wf_pbb_controller.canvas.style.position="fixed";wf_pbb_controller.canvas.style.top=0;wf_pbb_controller.canvas.style.left=0;wf_pbb_controller.canvas.style.zIndex=-999;document.body.appendChild(wf_pbb_controller.canvas);for(i=1;i<wf_pbb_object.length;i++){wf_pbb_controller.lr=document.createElement("div");wf_pbb_controller.lr.id="layer_"+i;wf_pbb_controller.lr.style.width=100+"%";wf_pbb_controller.lr.style.height=100+"%";wf_pbb_controller.lr.style.position="absolute";wf_pbb_controller.lr.style.top=0;wf_pbb_controller.lr.style.left=0;wf_pbb_controller.lr.style.zIndex=wf_pbb_object[i].zi;wf_pbb_controller.lr.style.backgroundImage="url("+wf_pbb_object[i].img+")";wf_pbb_controller.canvas.appendChild(wf_pbb_controller.lr);if(wf_pbb_object[i].im=="image"){wf_pbb_controller.lr.style.backgroundRepeat="no-repeat";var e=wf_pbb_object[i].ofs.x;var t=wf_pbb_object[i].ofs.y;if(wf_pbb_object[i].isb){t+=wf_pbb_controller.win.height-wf_pbb_images[i].height}if(wf_pbb_object[i].isr){e+=wf_pbb_controller.win.width-wf_pbb_images[i].width}wf_pbb_controller.lr.style.backgroundPosition=e+"px "+t+"px"}else{switch(wf_pbb_object[i].pr){case"x":{wf_pbb_controller.lr.style.backgroundRepeat="repeat-x";if(wf_pbb_object[i].sb){var n=wf_pbb_controller.win.height-wf_pbb_images[i].height+wf_pbb_object[i].ofs.y+"px";wf_pbb_controller.lr.style.backgroundPosition=wf_pbb_object[i].ofs.x+"px "+n}else{wf_pbb_controller.lr.style.backgroundPosition=wf_pbb_object[i].ofs.x+"px "+wf_pbb_object[i].ofs.y+"px"}break};case"y":{wf_pbb_controller.lr.style.backgroundRepeat="repeat-y";if(wf_pbb_object[i].sr){var r=wf_pbb_controller.win.width-wf_pbb_images[i].width+wf_pbb_object[i].ofs.x+"px";wf_pbb_controller.lr.style.backgroundPosition=r+" "+wf_pbb_object[i].ofs.y+"px"}else{wf_pbb_controller.lr.style.backgroundPosition=wf_pbb_object[i].ofs.x+"px "+wf_pbb_object[i].ofs.y+"px"}break};case"both":{wf_pbb_controller.lr.style.backgroundPosition=wf_pbb_object[i].ofs.x+"px "+wf_pbb_object[i].ofs.y+"px";break}}}}for(i=1;i<wf_pbb_object.length;i++){wf_pbb_controller.me["layer_"+i]=document.getElementById("layer_"+i)}document.onmousemove=function(e){if(wf_pbb_controller.browserDetect.browser=="Firefox"){var t={x:e.clientX,y:e.clientY}}else{var t={x:window.event.clientX,y:window.event.clientY}}if(t.x<wf_pbb_controller.mBuffer.x){wf_pbb_controller.dir.x=-1}else if(t.x>wf_pbb_controller.mBuffer.x){wf_pbb_controller.dir.x=1}else{wf_pbb_controller.dir.x=0}if(t.y<wf_pbb_controller.mBuffer.y){wf_pbb_controller.dir.y=-1}else if(t.y>wf_pbb_controller.mBuffer.y){wf_pbb_controller.dir.y=1}else{wf_pbb_controller.dir.y=0}for(i=1;i<wf_pbb_object.length;i++){if(wf_pbb_object[i].mm){var n=wf_pbb_controller.me["layer_"+i];var r=wf_pbb_object[i].mms;var s=n.style.backgroundPosition;s=s.split(" ");var o={newX:parseInt(s[0].substr(0,s[0].length-2))+r*wf_pbb_controller.dir.x*wf_pbb_object[i].mmd,newY:parseInt(s[1].substr(0,s[1].length-2))+r*wf_pbb_controller.dir.y*wf_pbb_object[i].mmd};if(wf_pbb_object[i].mma=="x"){o.newY=parseInt(s[1].substr(0,s[1].length-2))}if(wf_pbb_object[i].mma=="y"){o.newX=parseInt(s[0].substr(0,s[0].length-2))}n.style.backgroundPosition=o.newX+"px "+o.newY+"px"}}wf_pbb_controller.mBuffer.y=t.y;wf_pbb_controller.mBuffer.x=t.x};if(window.addEventListener){document.addEventListener("DOMMouseScroll",function(e){wf_pbb_controller.wheel(e)},false)}document.onmousewheel=function(e){wf_pbb_controller.wheel(e)}},wheel:function(e){var t=0;if(!e){e=window.event}if(e.wheelDelta){t=e.wheelDelta/120}else if(e.detail){t=-e.detail/3}if(t){for(i=1;i<wf_pbb_object.length;i++){if(wf_pbb_object[i].ms){var n=wf_pbb_controller.me["layer_"+i];var r=wf_pbb_object[i].mss;r*=t;r*=wf_pbb_object[i].msd;var s=n.style.backgroundPosition;s=s.split(" ");var o={x:parseInt(s[0].substr(0,s[0].length-2)),y:parseInt(s[1].substr(0,s[1].length-2)),newX:parseInt(s[0].substr(0,s[0].length-2))+r,newY:parseInt(s[1].substr(0,s[1].length-2))+r};switch(wf_pbb_object[i].mso){case"v":{n.style.backgroundPosition=o.x+"px "+o.newY+"px";break};case"h":{n.style.backgroundPosition=o.newX+"px "+o.y+"px";break};case"d":{n.style.backgroundPosition=o.newX+"px "+o.newY+"px";break}}}}}},browserDetect:{init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version"},searchString:function(e){for(var t=0;t<e.length;t++){var n=e[t].string;var r=e[t].prop;this.versionSearchString=e[t].versionSearch||e[t].identity;if(n){if(n.indexOf(e[t].subString)!=-1)return e[t].identity}else if(r)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(t==-1)return;return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"}]},initWindowSize:function(){if(typeof window.innerWidth=="number"){wf_pbb_controller.win.width=window.innerWidth;wf_pbb_controller.win.height=window.innerHeight}else if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){wf_pbb_controller.win.width=document.documentElement.clientWidth;wf_pbb_controller.win.height=document.documentElement.clientHeight}else if(document.body&&(document.body.clientWidth||document.body.clientHeight)){wf_pbb_controller.win.width=document.body.clientWidth;wf_pbb_controller.win.height=document.body.clientHeight}}}